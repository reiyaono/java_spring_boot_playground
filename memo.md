## AOP用語

Advice ... AOPで実行する処理のこと
Pointcut ... 処理を実行する場所(クラスやメソッド)のこと
JoinPoint...処理を実行するタイミングのこと


## AOP実行タイミング(JoinPoint)
Before メソッドが実行される前
After メソッドが実行された後
AfterReturning メソッドが正常終了した時だけ、AOPの処理を実行します
Around メソッド実行の前後に、AOPの処理を実行します
AfterThrowing メソッドが異常終了した場合だけ、AOPの処理を実行


## @PathVariable
@PathVariableアノテーションを付けると、渡されてきたパス（URL）の値を引数の変数に入れることができます。
上記のコードでいうと、http://localhost:8080/userDetail/yamada@xxx.co.jpというURLでリクエストが来た場合、yamada@xxx.co.jpという値が引数のuserIdという変数に入れられます。


## BeanPropertyRowMapper

データベースから取得してきたカラム名と同一のフィールド名がクラスにあれば、自動でマッピングをしてくれます

ただし、自動でマッピングするためには、以下のようなカラム名とフィールド名にする必要があります。

■カラム名は単語をアンダースコアで区切る（スネークケース）例：user_id
■フィールド名は２つ目の単語から大文字にする（キャメルケース）例：String userId;


## トランザクションで起こる問題
### ダーティリード
ダーティリードとは他のトランザクションが変更したが、まだコミットしていないデータを読み取ってしまうことです。そのため、誤ったデータを読み取ってしまうということです。

### ノンリピータブルリード
ノンリピータブルリードトランザクションの中で、何回も同じデータを読み取るときに、他のトランザクションがデータを更新してしまったときに起こる問題です。つまり、途中から違う値を読み取ってしまうということです。

### ファントムリード
ファントムリードトランザクションの中で、何回も同じデータを読み取るときに、他のトランザクションが新しくデータを追加したときに起こる問題です。つまり、途中から処理対象のレコードが増えるということです。


## Springでのロール名
Springでは、ロール名の先頭に"ROLE_"を付けるというルールがあります。中には、"ROLE_"を省略して引数にセットするようなメソッドもあります。データベースにロール名を登録する際は、"ROLE_"を付けるようにしましょう。
